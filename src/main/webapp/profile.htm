<div class="row ptl">
	<div class="col m4">
		<div class="card">
			<div class="card-image">
				<img src="#profilepic($showUser)" alt="Profile picture" class="profile-pic" width="200"/>
				<span class="card-title">
					#if($showUser.identifier.startsWith("gp"))
						<i class="fa fa-google fa-4x"></i>
					#else
						<i class="fa fa-facebook fa-4x"></i>
					#end
				</span>
			</div>
			<div class="card-content center-align">
				<div class="largeText">$!{showUser.name}</div>
				<div title="$!lang.get('reputation')">
					<span class="chip largeText reputationbox phl">$!showUser.votes</span> &nbsp;&nbsp;
					<span class="largeText">
						#if($showUser.badges && $showUser.badges.length > 2) $showUser.badges.split(",").length $!lang.get('badges.title') #end
					</span>
				</div>
			</div>
			#if($showUser.website && !$showUser.website.isEmpty())
				<div class="card-action truncate">
					<a href="$!showUser.website">$!showUser.website</a>
				</div>
			#end
		</div>
		#if (!$isMyProfile && $authenticated)
		<div class="mvm">
			#getreportlink($showUser "$profilelink/$!showUser.creatorid" "chip")
			#if ($showUser.isAdmin())
				#if ($showUser.isModerator())
					<a href="$profilelink/$showUser.creatorid/?makemod=false" class="chip rusure">Unmake mod</a>
				#else
					<a href="$profilelink/$showUser.creatorid/?makemod=true" class="chip rusure">Make mod</a>
				#end
				<a href="${adminlink}?delete=user&amp;id=$showUser.creatorid" title="Delete user account" class="red chip white-text">
					<i class="fa fa-close red lighten-1"></i> $!lang.get("delete")
				</a>
			#end
		</div>
		#end
	</div>

	<div class="col m8">
		<div class="pll">
			<div class="row">
				<div class="col m8">
					<h2>$!{lang.get("profile.about.title")}</h2>
				</div>
				<div class="col m4 r">&nbsp;
					<div class="pvl">
						&nbsp;
						#if ($canEdit)
							<a href="$profilelink/$authUser.creatorid/edit" class="editlink btn">
								<i class="fa fa-pencil"></i> $!{lang.get("edit")}
							</a>
						#end
					</div>
				</div>
			</div>
			#if ($request.getParameter("edit") && $authenticated)
				#set($hideedit1 = "")
				#set($hideview1 = "hide")
			#else
				#set($hideedit1 = "hide")
				#set($hideview1 = "")
			#end

			<div class="viewbox ${hideview1}">
				#if ($showUser.aboutme && !$showUser.aboutme.isEmpty())
					<h4 class="black-text pbs">$!{showUser.aboutme}</h4>
				#end
				#if ($showUser.location && !$showUser.location.isEmpty())
					<h4 class="black-text pvm"><i class="fa fa-map-marker"></i> $!{showUser.location}</h4>
				#end
				#if ($showUser.timestamp)
					<div class="mediumText grey-text pvm"><i class="fa fa-birthday-cake"></i>
						$!{lang.get("profile.about.membersince")} #formatdate($!{showUser.timestamp} "dd MMMM yyyy")</div>
				#end
				#if ($showUser.lastseen)
					<div class="mediumText grey-text pvm"><i class="fa fa-clock-o"></i>
						$!{lang.get("profile.about.lastseen")} #formatdate($!{showUser.lastseen} "")</div>
				#end
			</div>

			#if ($canEdit)
			<div id="about-edit" class="editbox lightgraybg pal ${hideedit1}">
				<form method="post" id="about-edit-form" action="$profilelink/$authUser.creatorid">
					#sectoken(false)
					<div class="input-field">
						<i class="fa fa-user-circle prefix"></i>
						<label for="name_text">$!{lang.get("profile.name")}</label>
						<input id="name_text" name="name" class="validate" type="text" value="$!{showUser.name}"/>
					</div>

					<div class="input-field">
						<i class="fa fa-map-marker prefix"></i>
						<label for="location_text">$!{lang.get("profile.about.location")}</label>
						<input id="location_text" name="location" class="locationbox validate" type="text" value="$!{showUser.location}"/>
					</div>

					<div class="input-field">
						<i class="fa fa-globe prefix"></i>
						<label for="website_text">$!lang.get("website")</label>
						<input id="website_text" name="website" type="url" value="$!{showUser.website}"/>
					</div>

					<div class="input-field">
						<label for="about_text">$!{lang.get("profile.about.aboutme")}</label>
						<textarea id="about_text" name="aboutme" length="255" class="materialize-textarea">$!{showUser.aboutme}</textarea>
					</div>

					<div class="center mtl">
						<input type="submit" value="$!{lang.get('save')}" class="btn waves-effect waves-light"/>
						<input type="button" value="$!{lang.get('close')}" class="btn waves-effect waves-light canceledit ${hideview1}"/>
						<a href="$profilelink/$authUser.creatorid" class="${hideedit1}">$!{lang.get('close')}</a>
					</div>
				</form>
			</div>
			#end
		</div>
	</div>
</div>

<div class="row">
	<div class="col m4 s12 center-align">
		<h3 class="black-text">
			$qpager.count $!{lang.get("questions.title")}
		</h3>
		<h3 class="black-text">
			$apager.count $!{lang.get("answers.title")}
		</h3>

		#set($badges = $showUser.badgesMap)
		<h3 class="black-text">$!lang.get("badges.title") #showcount($!badges.size())</h3>
		#if (!$badges.isEmpty())
		<h2></h2>
		<div class="mvl">
			#foreach($entry in $badges.entrySet())
			#set($badge = $entry.key)
			#if ($badge.endsWith("+")) #set($badge = $badge.replaceAll("\\+", ""))	#end
			#badgebox($badge $entry.value)
			#end
		</div>
		#end
	</div>
	<div class="col m8 s12">
		<h2>$!{lang.get("questions.title")} #showcount($qpager.count)</h2>

		<div id="questions-edit">
			#if ($questionslist.isEmpty())
				<div class="mvl">$!{lang.get("profile.posts.noquestions")}</div>
			#else
				#paginate($pagenum.longValue() "\#questionspage(\$questionslist)" $qpager.count "" "pageless")
			#end
		</div>

		<h2>$!{lang.get("answers.title")} #showcount($apager.count)</h2>

		<div id="answers-edit">
			#if ($answerslist.isEmpty())
				<div class="mvl">$!{lang.get("profile.posts.noanswers")}</div>
			#else
				#paginate($pagenum.longValue() "\#compactanswerspage(\$answerslist)" $apager.count "" "pageless")
			#end
		</div>
	</div>
</div>

